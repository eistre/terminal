# Environment configuration for web application

# General
NODE_ENV='development'  # Options: development, test, production
LOGGER_LEVEL='info'  # Options: error, warn, info, debug, trace

# Authentication
AUTH_SECRET='Your32CharacterLongSecretKeyHere'  # Required: 32+ characters
AUTH_USER_EXPIRY_DAYS=  # Default: 90
AUTH_ADMIN_EMAIL=  # Default: admin@admin.sec
AUTH_ADMIN_PASSWORD=  # Default: terminal_password

# Microsoft OAuth (Optional - first 3 must be set to enable, will fail if partial)
AUTH_MICROSOFT_CLIENT_ID=
AUTH_MICROSOFT_CLIENT_SECRET=
AUTH_MICROSOFT_TENANT_ID=  # Options: {tenant-id}, common, organizations, consumers
AUTH_MICROSOFT_LABEL_EN=  # Button label for English locale
AUTH_MICROSOFT_LABEL_ET=  # Button label for Estonian locale

# Keycloak OIDC (Optional - first 3 must be set to enable, will fail if partial)
AUTH_KEYCLOAK_CLIENT_ID=
AUTH_KEYCLOAK_CLIENT_SECRET=
AUTH_KEYCLOAK_ISSUER=  # e.g., https://keycloak.example.edu/realms/your-realm
AUTH_KEYCLOAK_LABEL_EN=  # Button label for English locale
AUTH_KEYCLOAK_LABEL_ET=  # Button label for Estonian locale

# Database
DATABASE_URL='mysql://terminal:password@localhost:3306/terminal'

# Mailer
MAILER_TYPE='noop'  # Options: noop, azure
MAILER_MAX_RETRIES=  # Default: 3
MAILER_CONCURRENCY_LIMIT=  # Default: 10
MAILER_RESEND_COOLDOWN_SECONDS=  # Default: 30

# Azure mailer (required when MAILER_TYPE=azure)
MAILER_AZURE_CONNECTION_STRING=
MAILER_AZURE_SENDER=

# Provisioner
PROVISIONER_TYPE='kubernetes'  # Options: kubernetes, azure
PROVISIONER_APP_NAME=  # Default: terminal
PROVISIONER_MAX_RETRIES=  # Default: 3
PROVISIONER_CONCURRENCY_LIMIT=  # Default: 10
PROVISIONER_CONTAINER_EXPIRY_MINUTES=  # Default: 30
PROVISIONER_CONTAINER_IMAGE=  # Default: ghcr.io/eistre/terminal-container:latest

# Kubernetes provisioner (required when PROVISIONER_TYPE=kubernetes)
KUBECONFIG=  # Optional: path to kubeconfig file (e.g., ~/.kube/config)
KUBERNETES_SERVICE_HOST=  # Optional: auto-set when running in Kubernetes cluster
PROVISIONER_KUBERNETES_NAMESPACE=  # Default: default
PROVISIONER_KUBERNETES_RELEASE_NAME=  # Default: terminal
PROVISIONER_KUBERNETES_SESSION_PREFIX=  # Default: terminal-session (set by Helm chart in production)
PROVISIONER_KUBERNETES_SERVICE_TYPE=  # Default: headless | Options: headless, nodePort
# Note: 'headless' mode connects directly to pod IP (no service created)
# Note: 'nodePort' mode creates a NodePort service and connects via node IP

# Kubernetes container resources (K8s format - millicores and binary suffixes)
PROVISIONER_KUBERNETES_CPU_REQUEST=  # Default: 100m
PROVISIONER_KUBERNETES_CPU_LIMIT=  # Default: 250m
PROVISIONER_KUBERNETES_MEMORY_REQUEST=  # Default: 64Mi
PROVISIONER_KUBERNETES_MEMORY_LIMIT=  # Default: 128Mi

# Azure provisioner (required when PROVISIONER_TYPE=azure)
PROVISIONER_AZURE_SUBSCRIPTION_ID=
PROVISIONER_AZURE_RESOURCE_GROUP=
PROVISIONER_AZURE_LOCATION=

# Azure container resources (must be multiples of 0.1)
PROVISIONER_AZURE_CPU=  # Default: 0.1 (cores)
PROVISIONER_AZURE_MEMORY_GB=  # Default: 0.1 (GB)

# Azure Key Vault for SSH keys (uses DefaultAzureCredential - az login locally, managed identity in production)
# Requires 'Key Vault Secrets Officer' role for set, get, and delete operations
PROVISIONER_AZURE_KEYVAULT_URL=  # Required, e.g., https://mykeyvault.vault.azure.net
