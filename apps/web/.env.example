# Environment configuration for web application

# General
NODE_ENV='development'  # Options: development, test, production
LOGGER_LEVEL='info'  # Options: error, warn, info, debug, trace

# Authentication
AUTH_SECRET='Your32CharacterLongSecretKeyHere'  # Required: 32+ characters
AUTH_USER_EXPIRY_DAYS=  # Default: 90
AUTH_ADMIN_EMAIL=  # Default: admin@admin.sec
AUTH_ADMIN_PASSWORD=  # Default: terminal_password

# Microsoft OAuth (Optional - all must be set to enable, will fail if partial)
AUTH_MICROSOFT_CLIENT_ID=
AUTH_MICROSOFT_CLIENT_SECRET=
AUTH_MICROSOFT_TENANT_ID=  # Options: {tenant-id}, common, organizations, consumers
AUTH_MICROSOFT_LABEL_EN=  # Button label for English locale
AUTH_MICROSOFT_LABEL_ET=  # Button label for Estonian locale

# Database
DATABASE_URL='mysql://terminal:password@localhost:3306/terminal'

# Mailer
MAILER_TYPE='noop'  # Options: noop, azure
MAILER_MAX_RETRIES=  # Default: 3
MAILER_CONCURRENCY_LIMIT=  # Default: 10
MAILER_RESEND_COOLDOWN_SECONDS=  # Default: 30

# Azure mailer (required when MAILER_TYPE=azure)
MAILER_AZURE_CONNECTION_STRING=
MAILER_AZURE_SENDER=

# Provisioner
PROVISIONER_TYPE='kubernetes'  # Options: kubernetes, azure
PROVISIONER_APP_NAME=  # Default: terminal
PROVISIONER_MAX_RETRIES=  # Default: 3
PROVISIONER_CONCURRENCY_LIMIT=  # Default: 10
PROVISIONER_CONTAINER_EXPIRY_MINUTES=  # Default: 30
PROVISIONER_CONTAINER_IMAGE=  # Default: ghcr.io/eistre/terminal-container:latest
PROVISIONER_CONTAINER_MEMORY_REQUEST=  # Default: 64Mi
PROVISIONER_CONTAINER_MEMORY_LIMIT=  # Default: 128Mi
PROVISIONER_CONTAINER_CPU_REQUEST=  # Default: 100m
PROVISIONER_CONTAINER_CPU_LIMIT=  # Default: 250m

# Kubernetes provisioner (required when PROVISIONER_TYPE=kubernetes)
KUBECONFIG=  # Optional: path to kubeconfig file (e.g., ~/.kube/config)
KUBERNETES_SERVICE_HOST=  # Optional: auto-set when running in Kubernetes cluster
PROVISIONER_KUBERNETES_NAMESPACE=  # Default: default
PROVISIONER_KUBERNETES_RELEASE_NAME=  # Default: terminal
PROVISIONER_KUBERNETES_SERVICE_TYPE=  # Default: headless | Options: headless, nodePort
# Note: 'headless' mode connects directly to pod IP (no service created)
# Note: 'nodePort' mode creates a NodePort service and connects via node IP

# Azure provisioner (required when PROVISIONER_TYPE=azure)
PROVISIONER_AZURE_SUBSCRIPTION_ID=
PROVISIONER_AZURE_RESOURCE_GROUP=
PROVISIONER_AZURE_LOCATION=
PROVISIONER_AZURE_SUBNET_ID=  # Full resource ID of the subnet for ACI containers
PROVISIONER_AZURE_COSMOS_ENDPOINT=
PROVISIONER_AZURE_COSMOS_DATABASE=  # Default: terminal
PROVISIONER_AZURE_COSMOS_CONTAINER=  # Default: ssh-keys
PROVISIONER_AZURE_USE_MANAGED_IDENTITY=  # Default: true
# Service Principal credentials (required when USE_MANAGED_IDENTITY=false)
PROVISIONER_AZURE_TENANT_ID=
PROVISIONER_AZURE_CLIENT_ID=
PROVISIONER_AZURE_CLIENT_SECRET=
